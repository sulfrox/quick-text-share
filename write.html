<html style="width:100%;height:100%" class=""><head></head><body style="width:90%;height:100%;margin: auto;justify-content: center;align-items: center;">
    <h1>Share Some Text <button onclick="share_code()">Generate URL</button></h1>
    <textarea id="main" style="width:100%;height:90%;margin: auto;margin-left: auto;margin-right: auto;"></textarea>
    <script>
        function share_code() {
            const encoded = (new URLSearchParams({"code":document.getElementById("main").value})).toString();
            const relativeURL = "read.html?"+encoded;
            const absoluteURL = (new URL(relativeURL, location.href)).toString();
            console.log(absoluteURL);
            document.body.innerHTML = "<h1>Generated Link</h1><a href="+absoluteURL+">"+absoluteURL+"</a>";
        }
    </script>
</body></html>